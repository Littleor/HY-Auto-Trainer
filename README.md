# 恒源自动化训练

这里是一个简单易用的一个后台全自动化训练日志记录、结果数据自动保存和自动关机的脚本。

## 特性

* 使用 `nohup` 在后台进行训练，完全可以断开 `ssh` 的连接，解放双手。
* 训练完成自动打包运行结果到 `OSS` 上，避免结果丢失。
* 上传完成自动关机，省钱省事～

## 用法

### 配置

* 复制目录下所有的 `*.sh` 文件到项目目录(如 `/hy-tmp`)
* 给 `*.sh` 文件加上权限:
    ``` bash
        chmod a+x *.sh
    ```
* 修改 `run.sh` 中的 `logPath` 来修改日志保存路径
* 修改 `end.sh` 中的 `resultPath` 来修改需要保存的运行结果的路径
* 如果非 Python 项目, 则需要修改 `end.sh` 的 `python` 为对应的执行命令即可

### 使用

> 以本项目为例，在项目中有个 `Train/main.py` 文件作为模拟训练的文件，并将项目文件放在 `/hy-tmp` 目录下。

运行方法:

```bash
# ./run.sh [可执行文件目录] [Tag 用于标注结果]
./run.sh /hy-tmp/Train/main.py Test-Trainer
```

## 最后

如需要 GPU 进行训练，可以考虑一波 `恒源云`，配合上自动化上传文件，用个 `ssh` 开几个 GPU 进行不同的训练能大幅提高炼丹效率。

广告🪧：可以通过我的 [邀请链接](https://gpushare.com/auth/register?user=15*****1082&fromId=2a010031faf2&source=link) 进行注册，多一张代金券哦～